import cv2, numpy as np, matplotlib.pyplot as plt

def quant(img,b): 
    L = 2**b
    step = 256/L
    return np.uint8(np.clip((img//step)*step + step/2,0,255))

img = cv2.cvtColor(cv2.imread("image2.jpg"), cv2.COLOR_BGR2RGB)
bits = [1,2,4]

plt.figure(figsize=(12,4))
plt.subplot(1,4,1); 
plt.imshow(img); 
plt.title("Original"); 
plt.axis("off")

for i,b in enumerate(bits,2):
    q = quant(img,b)
    plt.subplot(1,4,i); plt.imshow(q)
    plt.title(f"{b}-bit"); plt.axis("off")

plt.show()
